<div class="dash">
  <!-- Top KPIs -->
  <div nz-row [nzGutter]="16" class="kpi-row">
    <div nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8">
      <nz-card>
        <div class="kpi">
          <div class="kpi-label">Balance</div>
          <div class="kpi-value balance">{{ stats?.balance }}€</div>
        </div>
      </nz-card>
    </div>
    <div nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8">
      <nz-card>
        <div class="kpi">
          <div class="kpi-label">Total income</div>
          <div class="kpi-value income">{{ stats?.income }}€</div>
        </div>
      </nz-card>
    </div>
    <div nz-col [nzXs]="24" [nzSm]="12" [nzMd]="8">
      <nz-card>
        <div class="kpi">
          <div class="kpi-label">Total expense</div>
          <div class="kpi-value expense">{{ stats?.expense }}€</div>
        </div>
      </nz-card>
    </div>
  </div>

  <!-- Charts + side info -->
  <div nz-row [nzGutter]="16" class="main-row">
    <!-- LEFT: make this column and card stretch -->
    <div nz-col [nzXs]="24" [nzLg]="16" class="col-fill">
      <nz-card nzTitle="Income chart" class="card-fill">
        <div class="chart-wrap">
          <canvas #incomeLineChartRef></canvas>
        </div>
      </nz-card>
    </div>

    <div nz-col [nzXs]="24" [nzLg]="8">
      <nz-card nzTitle="Recent transactions">
        <nz-list [nzItemLayout]="'horizontal'">
          <nz-list-item>
            <nz-list-item-meta
              nzDescription="Latest income"
              nzTitle="
                +{{ stats?.lastIncome?.amount }}€ - {{
                stats?.lastIncome?.title
              }}
              "
            ></nz-list-item-meta>
          </nz-list-item>
          <nz-list-item>
            <nz-list-item-meta
              nzDescription="Latest expense"
              nzTitle="
                -{{ stats?.lastExpense?.amount }}€ - {{
                stats?.lastExpense?.title
              }}
              "
            ></nz-list-item-meta>
          </nz-list-item>
        </nz-list>
      </nz-card>

      <nz-card nzTitle="Income stats" class="mt-10">
        <div nz-row>
          <div nz-col [nzSpan]="12">Min: {{ stats?.minIncome }}€</div>
          <div nz-col [nzSpan]="12">Max: {{ stats?.maxIncome }}€</div>
        </div>
      </nz-card>

      <nz-card nzTitle="Expense stats" class="mt-10">
        <div nz-row>
          <div nz-col [nzSpan]="12">Min: {{ stats?.minExpense }}€</div>
          <div nz-col [nzSpan]="12">Max: {{ stats?.maxExpense }}€</div>
        </div>
      </nz-card>
    </div>
  </div>

  <!-- Expense chart full width on mobile -->
  <div nz-row [nzGutter]="16" class="mt-16">
    <div nz-col [nzXs]="24">
      <nz-card nzTitle="Expense chart">
        <div class="chart-wrap">
          <canvas #expenseLineChartRef></canvas>
        </div>
      </nz-card>
    </div>
  </div>
</div>
